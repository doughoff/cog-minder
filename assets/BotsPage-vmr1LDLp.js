import{u as f,a as v,c as g,j as n,b as m,d,B as x,l as S,e as K,p as C,g as b,R as B,f as p}from"./index-mA6cqarB.js";import{u as j}from"./BotDetails-cgJhBv77.js";import{B as L}from"./BotPopover-0Zrg9Rhj.js";import{T as w}from"./Table-3hplMjX1.js";/* empty css              */import"./bots-KCDbiFQQ.js";import"./lore-yoaB2RHm.js";import"./botTypes-Cxei0LoN.js";import"./ItemPopover-H8C_w1b2.js";import"./items-wP--UJwD.js";const P=[{value:"Simple"},{value:"Spreadsheet"}],T=[{value:"Any"},{value:"Architect",spoiler:"Redacted"},{value:"0b10"},{value:"Derelict"},{value:"Exiles"},{value:"Warlord",spoiler:"Spoiler"},{value:"Zionite",spoiler:"Spoiler"}],D=[{header:"Overview",columns:[{accessorKey:"name",header:"Name",size:12,maxSize:12},{accessorKey:"class",header:"Class",size:12,maxSize:12},{accessorKey:"size",header:"Size"},{accessorKey:"profile",header:"Profile"},{accessorKey:"rating",header:"Rating"},{accessorKey:"tier",header:"Tier"},{accessorKey:"Threat",header:"Threat"},{accessorKey:"value",header:"Value"},{accessorKey:"energyGeneration",header:"Energy Generation"},{accessorKey:"heatDissipation",header:"Heat Dissipation"},{accessorKey:"visualRange",header:"Visual Range"},{accessorKey:"memory",header:"Memory"},{accessorKey:"spotPercent",header:"Spot %"},{accessorKey:"movement",header:"Movement",sortingFn:(e,a,t)=>z(e.getValue(t),a.getValue(t)),size:10,maxSize:10},{accessorKey:"coreIntegrity",header:"Core Integrity"},{accessorKey:"coreExposure",header:"Core Exposure"},{accessorKey:"salvagePotential",header:"Salvage Potential",sortingFn:(e,a,t)=>F(e.getValue(t),a.getValue(t))}]},{header:"Parts",columns:[{accessorKey:"armamentString",header:"Armament",size:25},{accessorKey:"componentsString",header:"Components",size:60}]},{header:"Resistances",columns:[{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Electromagnetic},header:"Electromagnetic"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Explosive},header:"Explosive"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Impact},header:"Impact"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Kinetic},header:"Kinetic"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Piercing},header:"Piercing"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Slashing},header:"Slashing"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Thermal},header:"Thermal"}]},{header:"Other",columns:[{accessorKey:"immunitiesString",header:"Immunities",size:15},{accessorKey:"traitsString",header:"Traits",size:60}]}],h=/\((\d*)/;function z(e,a){const t=p(h.exec(e)[1],0),c=p(h.exec(a)[1],0);return t-c}function F(e,a){function t(o){if(typeof o!="string"||o==="")return 0;const r=o.split("~").map(i=>i.trim()).map(i=>parseInt(i));return r.reduce((i,u)=>i+u,0)/r.length}const c=t(e),s=t(a);return c-s}function V(e,a){const t=f(),c=a.getAllBots().filter(s=>{if(!g(s.spoiler,t))return!1;if(e.name&&e.name.length>0){const o=e.name.toLowerCase(),r=s.name.toLowerCase();if(!r.includes(o)&&!S(r).includes(o))return!1}if(e.class&&e.class.length>0&&!s.class.toLowerCase().includes(e.class.toLowerCase()))return!1;if(e.part&&e.part.length>0){const o=e.part.toLowerCase();if(!s.armamentData.find(r=>r.name.toLowerCase().includes(o))&&!s.componentData.find(r=>r.name.toLowerCase().includes(o))&&!s.armamentOptionData.find(r=>r.find(i=>i.name.toLowerCase().includes(o)))&&!s.componentOptionData.find(r=>r.find(i=>i.name.toLowerCase().includes(o))))return!1}return!(e.faction&&e.faction!=="Any"&&!s.categories.includes(e.faction))});return c.sort((s,o)=>s.name.localeCompare(o.name)),c}function A(){const e=K();return C(e,{})}function R(e,a){const t=e;return t==="mode"&&a.mode==="Simple"||t==="faction"&&a.faction==="Any"}function E({pageState:e,bots:a}){const t=a.map(c=>n.jsx(L,{bot:c},c.name));return n.jsx("div",{className:"bot-button-grid",children:t})}function N({pageState:e,bots:a}){const[t,c]=B.useState([]);return n.jsx(w,{data:a,columns:D,setSorting:c,sorting:t})}function J(){const e=j(),a=f(),[t,c]=v(),s=A();function o(l){const y=b("/bots",l,R);c(y,{replace:!0})}const r=V(s,e);let i;s.mode==="Spreadsheet"?i=n.jsx(N,{pageState:s,bots:r}):i=n.jsx(E,{pageState:s,bots:r});const u=T.filter(l=>g(l.spoiler||"None",a));return n.jsxs("div",{className:"page-content",children:[n.jsxs("div",{className:"page-input-group",children:[n.jsx(m,{label:"Name",placeholder:"Any",tooltip:"The name of a bot to search for.",value:s.name||"",onChange:l=>{o({...s,name:l})}}),n.jsx(m,{label:"Class",placeholder:"Any",tooltip:"The class of a bot to search for.",value:s.class||"",onChange:l=>{o({...s,class:l})}}),n.jsx(m,{label:"Part",placeholder:"Any",tooltip:"The name of a part to search for.",value:s.part||"",onChange:l=>{o({...s,part:l})}}),n.jsx(d,{label:"Mode",buttons:P,className:"flex-grow-0",tooltip:"The mode to display the parts in.",selected:s.mode,onValueChanged:l=>{o({...s,mode:l})}}),n.jsx(x,{className:"flex-grow-0",tooltip:"Resets all filters to their default (unfiltered) state",onClick:()=>{o({mode:s.mode})},children:"Reset"})]}),n.jsx("div",{className:"page-input-group",children:n.jsx(d,{label:"Faction",buttons:u,tooltip:"The mode to display the bots in.",selected:s.faction,onValueChanged:l=>{o({...s,faction:l})}})}),i]})}export{J as default};
